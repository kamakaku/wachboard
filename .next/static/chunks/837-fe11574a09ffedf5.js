(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{1837:function(e,s,t){Promise.resolve().then(t.t.bind(t,2972,23)),Promise.resolve().then(t.bind(t,3950)),Promise.resolve().then(t.bind(t,2791)),Promise.resolve().then(t.bind(t,5060))},3950:function(e,s,t){"use strict";t.d(s,{ShiftAssignmentComplete:function(){return N}});var r=t(7437),n=t(2265),a=t(9820),i=t(7168),l=t(9174),d=t(6246),c=t(8245),o=t(5060),u=t(2381),m=t(740),f=t(5805),x=t(5337),h=t(3578),p=t(1905),g=t(2489),v=t(8867);function N(e){let{vehicles:s,people:t,divisions:N,divisionId:b,initialAssignments:j,initialCopiedTrupps:y,initialPraktikantFlags:k,initialTruppPraktikantFlags:w}=e,[_,S]=(0,n.useState)("all"),z=e=>"all"!==_&&N&&0!==N.length?e.filter(e=>!e.division_ids||0===e.division_ids.length||e.division_ids.includes(_)):e,C=z(t.filter(e=>!e.person_type||"MITARBEITER"===e.person_type)),T=z(t.filter(e=>"NOTARZT"===e.person_type)),Z=z(t.filter(e=>"FUEHRUNGSDIENST"===e.person_type)),[P,D]=(0,n.useState)(j||{}),[O,R]=(0,n.useState)(y||{}),[F,A]=(0,n.useState)(k||{}),[I,E]=(0,n.useState)(w||{}),[V,J]=(0,n.useState)(new Set),[q,L]=(0,n.useState)(null),[K,U]=(0,n.useState)(null),[B,Y]=(0,n.useState)("mitarbeiter"),H=(e,s,t)=>{D(r=>({...r,[e]:{...r[e],[s]:t}}))},G=(e,s)=>{var r;let n=null===(r=P[e])||void 0===r?void 0:r[s];return n&&t.find(e=>e.id===n)||null},X=(e,s,r)=>{let n=t.find(s=>s.id===e);return!!n&&("__notarzt__"===r?"NOTARZT"===n.person_type:"__fuehrungsdienst__"===r?"FUEHRUNGSDIENST"===n.person_type:!n.person_type||"MITARBEITER"===n.person_type)},M=(e,s)=>{let t="".concat(e,":").concat(s);J(e=>new Set(e).add(t)),H(e,s,null)},W=(e,s)=>{let t="".concat(e,":").concat(s);return V.has(t)},$=(e,t,r)=>{if(!s.find(e=>e.id===t))return;let n=s.find(s=>s.id===e);if(!n)return;let a=n.config.trupps||[],i=r,l=2;for(;a.some(e=>e.key===i);)i="".concat(r," (").concat(l,")"),l++;R(s=>({...s,[e]:[...s[e]||[],{sourceVehicleId:t,sourceTruppKey:r,targetTruppKey:i}]}))},Q=(e,s)=>{R(t=>({...t,[e]:(t[e]||[]).filter((e,t)=>t!==s)}))},ee=(e,s)=>{L(s),e.dataTransfer.effectAllowed="copy"},es=(e,s,t)=>{U({vehicleId:s,truppKey:t}),e.dataTransfer.effectAllowed="copy"},et=e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"},er=(e,t,r)=>{e.preventDefault();let n=s.find(e=>e.id===t);q&&n&&X(q.id,n,r)&&H(t,r,q.id),L(null)},en=(e,s)=>{e.preventDefault(),K&&K.vehicleId!==s&&$(s,K.vehicleId,K.truppKey),U(null)};return console.log("ShiftAssignmentComplete render - assignments:",P),console.log("ShiftAssignmentComplete render - copiedTrupps:",O),console.log("ShiftAssignmentComplete render - praktikantFlags:",F),console.log("ShiftAssignmentComplete render - truppPraktikantFlags:",I),console.log("ShiftAssignmentComplete render - assignments JSON:",JSON.stringify(P)),console.log("ShiftAssignmentComplete render - copiedTrupps JSON:",JSON.stringify(O)),console.log("ShiftAssignmentComplete render - praktikantFlags JSON:",JSON.stringify(F)),console.log("ShiftAssignmentComplete render - truppPraktikantFlags JSON:",JSON.stringify(I)),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,r.jsx)("div",{className:"col-span-3",children:(0,r.jsxs)(a.Zb,{className:"sticky top-4",children:[(0,r.jsxs)(a.Ol,{className:"pb-3",children:[(0,r.jsx)(a.ll,{className:"text-base",children:"Personalpool"}),(0,r.jsx)(a.SZ,{className:"text-xs",children:"Personen auf Positionen ziehen"}),N&&N.length>0&&(0,r.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,r.jsxs)(o.Label,{htmlFor:"division-filter",className:"text-xs flex items-center gap-1",children:[(0,r.jsx)(m.Z,{className:"h-3 w-3"}),"Nach Wachabteilung filtern"]}),(0,r.jsxs)("select",{id:"division-filter",value:_,onChange:e=>S(e.target.value),className:"w-full h-8 rounded-md border border-input bg-background px-2 text-xs",children:[(0,r.jsx)("option",{value:"all",children:"Alle anzeigen"}),N.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,r.jsx)(a.aY,{className:"p-0",children:(0,r.jsxs)(i.Tabs,{value:B,onValueChange:Y,children:[(0,r.jsxs)(i.TabsList,{className:"w-full grid grid-cols-3 rounded-none border-b",children:[(0,r.jsxs)(i.TabsTrigger,{value:"mitarbeiter",className:"text-xs",children:[(0,r.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),C.length]}),(0,r.jsxs)(i.TabsTrigger,{value:"notarzt",className:"text-xs",children:[(0,r.jsx)(x.Z,{className:"h-3 w-3 mr-1"}),T.length]}),(0,r.jsxs)(i.TabsTrigger,{value:"fuehrungsdienst",className:"text-xs",children:[(0,r.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),Z.length]})]}),(0,r.jsx)(i.TabsContent,{value:B,className:"mt-0 p-3",children:(0,r.jsx)("div",{className:"space-y-1 max-h-[65vh] overflow-y-auto",children:(e=>{switch(e){case"notarzt":return T;case"fuehrungsdienst":return Z;default:return C}})(B).map(e=>{var s;return(0,r.jsxs)("div",{draggable:!0,onDragStart:s=>ee(s,e),className:"flex items-center gap-2 p-1.5 rounded border cursor-move hover:bg-muted/50 text-xs",children:[(0,r.jsx)(p.Z,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),(0,r.jsx)(d.q,{src:null!==(s=e.photo_url)&&void 0!==s?s:void 0,name:e.name,size:20}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium truncate leading-tight",children:e.name}),e.rank&&(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground leading-tight",children:e.rank})]}),e.tags&&e.tags.length>0&&(0,r.jsx)(l.C,{variant:"outline",className:"text-[10px] px-1 h-4",children:e.tags[0]})]},e.id)})})})]})})]})}),(0,r.jsx)("div",{className:"col-span-9 space-y-6",children:s.map(e=>(0,r.jsxs)(a.Zb,{className:"border-2",onDragOver:et,onDrop:s=>en(s,e.id),children:[(0,r.jsx)(a.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[e.image_url&&(0,r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-16 h-16 object-cover rounded"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ll,{className:"text-lg",children:e.title}),(0,r.jsx)(a.SZ,{children:(0,r.jsx)("code",{className:"text-xs",children:e.key})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[e.config.hasNotarztPool&&(0,r.jsxs)(l.C,{variant:"outline",className:"bg-red-50",children:[(0,r.jsx)(x.Z,{className:"h-3 w-3 mr-1"}),"Notarzt"]}),e.config.hasFuehrungsdienstPool&&(0,r.jsxs)(l.C,{variant:"outline",className:"bg-blue-50",children:[(0,r.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),"F\xfchrung"]}),e.config.allowsPraktikant&&(!e.config.trupps||0===e.config.trupps.length)&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.X,{id:"praktikant-".concat(e.id),checked:F[e.id]||!1,onCheckedChange:s=>A(t=>({...t,[e.id]:!0===s}))}),(0,r.jsx)(o.Label,{htmlFor:"praktikant-".concat(e.id),className:"text-sm cursor-pointer",children:"Praktikant mitfahrend"})]})]})]})}),(0,r.jsxs)(a.aY,{className:"space-y-4",children:[(e.config.hasNotarztPool||e.config.hasFuehrungsdienstPool)&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm",children:"Spezial-Positionen"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[e.config.hasNotarztPool&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,r.jsx)(x.Z,{className:"h-3 w-3 text-red-600"}),"Notarzt"]}),(0,r.jsx)("div",{className:"min-h-[3rem] p-2 rounded border-2 border-dashed bg-red-50/50",onDragOver:et,onDrop:s=>{s.preventDefault(),q&&"NOTARZT"===q.person_type&&H(e.id,"__notarzt__",q.id),L(null)},children:(()=>{var s;let t=G(e.id,"__notarzt__");return t?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.q,{src:null!==(s=t.photo_url)&&void 0!==s?s:void 0,name:t.name,size:24}),(0,r.jsx)("span",{className:"text-xs font-medium flex-1 truncate",children:t.name}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(e.id,"__notarzt__",null),className:"h-6 w-6 p-0",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]}):(0,r.jsx)("div",{className:"text-xs text-muted-foreground text-center py-2",children:"Notarzt ziehen"})})()})]}),e.config.hasFuehrungsdienstPool&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,r.jsx)(h.Z,{className:"h-3 w-3 text-blue-600"}),"F\xfchrungsdienst"]}),(0,r.jsx)("div",{className:"min-h-[3rem] p-2 rounded border-2 border-dashed bg-blue-50/50",onDragOver:et,onDrop:s=>{s.preventDefault(),q&&"FUEHRUNGSDIENST"===q.person_type&&H(e.id,"__fuehrungsdienst__",q.id),L(null)},children:(()=>{var s;let t=G(e.id,"__fuehrungsdienst__");return t?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.q,{src:null!==(s=t.photo_url)&&void 0!==s?s:void 0,name:t.name,size:24}),(0,r.jsx)("span",{className:"text-xs font-medium flex-1 truncate",children:t.name}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(e.id,"__fuehrungsdienst__",null),className:"h-6 w-6 p-0",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]}):(0,r.jsx)("div",{className:"text-xs text-muted-foreground text-center py-2",children:"F\xfchrungsdienst ziehen"})})()})]})]})]}),O[e.id]&&O[e.id].length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),"Kopierte Trupps"]}),O[e.id].map((t,n)=>{var a;let i=s.find(e=>e.id===t.sourceVehicleId),l=null==i?void 0:null===(a=i.config.trupps)||void 0===a?void 0:a.find(e=>e.key===t.sourceTruppKey);return(0,r.jsxs)("div",{className:"border rounded-lg p-3 bg-green-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:t.targetTruppKey}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Von ",null==i?void 0:i.title," - ",t.sourceTruppKey]})]}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(e.id,n),children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})})]}),l&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:l.slots.map((e,s)=>{var n;let a="".concat(t.sourceTruppKey,":").concat(e),i=G(t.sourceVehicleId,a);return(0,r.jsxs)("div",{className:"space-y-1",onDragOver:et,onDrop:s=>{let r="".concat(t.sourceTruppKey,":").concat(e);er(s,t.sourceVehicleId,r)},children:[(0,r.jsx)("label",{className:"text-[10px] text-muted-foreground",children:e}),(0,r.jsx)("div",{className:"min-h-[2.5rem] p-1.5 rounded border-2 border-dashed ".concat(i?"bg-white border-primary":"bg-white border-muted-foreground/20"),children:i?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.q,{src:null!==(n=i.photo_url)&&void 0!==n?n:void 0,name:i.name,size:20}),(0,r.jsx)("span",{className:"text-[11px] font-medium flex-1 truncate",children:i.name}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(t.sourceVehicleId,a,null),className:"h-5 w-5 p-0",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]}):(0,r.jsxs)("div",{className:"flex items-center justify-center h-full relative",children:[(0,r.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Ziehen"}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{H(t.sourceVehicleId,a,null)},className:"h-4 w-4 p-0 absolute top-0 right-0",title:"Slot f\xfcr diesen Dienstplan ausblenden",children:(0,r.jsx)(g.Z,{className:"h-2.5 w-2.5 text-muted-foreground/50 hover:text-destructive"})})]})})]},s)})})]},n)})]}),e.config.trupps&&e.config.trupps.length>0&&(0,r.jsx)("div",{className:"space-y-3",children:e.config.trupps.map(s=>{var t;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 bg-muted/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 cursor-move select-none flex-1",draggable:!0,onDragStart:t=>{t.stopPropagation(),es(t,e.id,s.key)},children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("h4",{className:"font-semibold text-sm",children:s.key}),s.allowsPraktikant&&(0,r.jsx)(l.C,{variant:"outline",className:"text-xs",children:"+Praktikant"})]}),s.allowsPraktikant&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.X,{id:"trupp-praktikant-".concat(e.id,"-").concat(s.key),checked:(null===(t=I[e.id])||void 0===t?void 0:t[s.key])||!1,onCheckedChange:t=>E(r=>({...r,[e.id]:{...r[e.id]||{},[s.key]:!0===t}}))}),(0,r.jsx)(o.Label,{htmlFor:"trupp-praktikant-".concat(e.id,"-").concat(s.key),className:"text-xs cursor-pointer",children:"Praktikant"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:s.slots.filter(t=>{let r="".concat(s.key,":").concat(t);return!W(e.id,r)}).map(t=>{var n;let a="".concat(s.key,":").concat(t),i=G(e.id,a);return(0,r.jsxs)("div",{className:"space-y-1",onDragOver:et,onDrop:s=>er(s,e.id,a),children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:t}),(0,r.jsx)("div",{className:"min-h-[3rem] p-2 rounded border-2 border-dashed ".concat(i?"bg-primary/5 border-primary":"border-muted-foreground/20"),children:i?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.q,{src:null!==(n=i.photo_url)&&void 0!==n?n:void 0,name:i.name,size:24}),(0,r.jsx)("span",{className:"text-xs font-medium flex-1 truncate",children:i.name}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(e.id,a,null),className:"h-6 w-6 p-0",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]}):(0,r.jsxs)("div",{className:"flex items-center justify-center h-full relative py-2",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Person ziehen"}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(e.id,a),className:"h-5 w-5 p-0 absolute top-1 right-1",title:"Slot f\xfcr diesen Dienstplan ausblenden",children:(0,r.jsx)(g.Z,{className:"h-3 w-3 text-muted-foreground/50 hover:text-destructive"})})]})})]},a)})})]},s.key)})}),e.config.slots&&e.config.slots.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm",children:"Einzelne Positionen"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.config.slots.filter(s=>!W(e.id,s)).map(s=>{var t;let n=G(e.id,s);return(0,r.jsxs)("div",{className:"space-y-1",onDragOver:et,onDrop:t=>er(t,e.id,s),children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:s}),(0,r.jsx)("div",{className:"min-h-[3rem] p-2 rounded border-2 border-dashed ".concat(n?"bg-primary/5 border-primary":"border-muted-foreground/20"),children:n?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.q,{src:null!==(t=n.photo_url)&&void 0!==t?t:void 0,name:n.name,size:24}),(0,r.jsx)("span",{className:"text-xs font-medium flex-1 truncate",children:n.name}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(e.id,s,null),className:"h-6 w-6 p-0",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]}):(0,r.jsxs)("div",{className:"flex items-center justify-center h-full relative",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Person ziehen"}),(0,r.jsx)(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(e.id,s),className:"h-5 w-5 p-0 absolute top-1 right-1",title:"Slot f\xfcr diesen Dienstplan ausblenden",children:(0,r.jsx)(g.Z,{className:"h-3 w-3 text-muted-foreground/50 hover:text-destructive"})})]})})]},s)})})]})]})]},e.id))})]}),(0,r.jsx)("input",{type:"hidden",name:"assignments",value:JSON.stringify(P),"data-debug":"assignments-input"}),(0,r.jsx)("input",{type:"hidden",name:"copiedTrupps",value:JSON.stringify(O),"data-debug":"trupps-input"}),(0,r.jsx)("input",{type:"hidden",name:"praktikantFlags",value:JSON.stringify(F),"data-debug":"praktikant-input"}),(0,r.jsx)("input",{type:"hidden",name:"truppPraktikantFlags",value:JSON.stringify(I),"data-debug":"trupp-praktikant-input"}),(0,r.jsxs)("div",{style:{display:"none"},"data-debug-assignments":JSON.stringify(P).substring(0,100),children:["Assignments count: ",Object.keys(P).length]})]})}},2791:function(e,s,t){"use strict";t.d(s,{ShiftTypeSelector:function(){return f}});var r=t(7437),n=t(2265),a=t(5060),i=t(279),l=t(2325),d=t(519),c=t(3448);let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(l.fC,{className:(0,c.cn)("grid gap-2",t),...n,ref:s})});o.displayName=l.fC.displayName;let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(l.ck,{ref:s,className:(0,c.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:(0,r.jsx)(l.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});u.displayName=l.ck.displayName;var m=t(1723);function f(e){let{templates:s,defaultStartTime:t,defaultEndTime:l}=e,d=t&&l?s.find(e=>e.start_time===t&&e.end_time===l):s[0],[c,f]=(0,n.useState)((null==d?void 0:d.id)||""),[x,h]=(0,n.useState)(t||(null==d?void 0:d.start_time)||"07:00"),[p,g]=(0,n.useState)(l||(null==d?void 0:d.end_time)||"19:00");return 0===s.length?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"p-4 bg-muted rounded-lg text-center",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keine Schicht-Vorlagen vorhanden. Erstellen Sie zuerst Vorlagen in den Einstellungen."})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(a.Label,{htmlFor:"shift-start",children:"Beginn *"}),(0,r.jsx)(i.I,{id:"shift-start",name:"start_time",type:"time",required:!0,defaultValue:t||"07:00"})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(a.Label,{htmlFor:"shift-end",children:"Ende *"}),(0,r.jsx)(i.I,{id:"shift-end",name:"end_time",type:"time",required:!0,defaultValue:l||"19:00"})]})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsx)(a.Label,{children:"Schichtvorlage *"}),(0,r.jsx)(o,{value:c,onValueChange:e=>{let t=s.find(s=>s.id===e);t&&(f(e),h(t.start_time),g(t.end_time))},className:"grid grid-cols-2 gap-4",children:s.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{value:e.id,id:"shift-type-".concat(e.id),className:"peer sr-only"}),(0,r.jsxs)(a.Label,{htmlFor:"shift-type-".concat(e.id),className:"flex flex-col items-center justify-center rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer",children:[(0,r.jsx)(m.Z,{className:"mb-2 h-6 w-6"}),(0,r.jsx)("span",{className:"font-semibold",children:e.label}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground mt-1",children:[e.start_time," - ",e.end_time]})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(a.Label,{htmlFor:"shift-start",children:"Beginn *"}),(0,r.jsx)(i.I,{id:"shift-start",name:"start_time",type:"time",required:!0,value:x,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(a.Label,{htmlFor:"shift-end",children:"Ende *"}),(0,r.jsx)(i.I,{id:"shift-end",name:"end_time",type:"time",required:!0,value:p,onChange:e=>g(e.target.value)})]})]})]})}},6246:function(e,s,t){"use strict";t.d(s,{q:function(){return i}});var r=t(7437),n=t(3145),a=t(3448);function i(e){let{src:s,name:t,size:i=36,className:l}=e,d=t?t.split(" ").filter(Boolean).map(e=>e[0]).slice(0,2).join("").toUpperCase():"";return(0,r.jsx)("div",{className:(0,a.cn)("relative overflow-hidden rounded-full bg-muted text-muted-foreground/70 flex items-center justify-center border border-border flex-shrink-0",l),style:{width:i,height:i},children:s?(0,r.jsx)(n.default,{src:s,alt:null!=t?t:"Avatar",width:i,height:i,className:"object-cover w-full h-full",unoptimized:!0}):(0,r.jsx)("span",{style:{fontSize:.4*i},className:"font-semibold",children:d||"?"})})}},9174:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var r=t(7437);t(2265);var n=t(535),a=t(3448);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:t}),s),...n})}},2381:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var r=t(7437),n=t(2265),a=t(7053),i=t(535),l=t(3448);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,s)=>{let{className:t,variant:n,size:i,asChild:c=!1,...o}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:n,size:i,className:t})),ref:s,...o})});c.displayName="Button"},9820:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var r=t(7437),n=t(2265),a=t(3448);let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});i.displayName="Card";let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...n})});o.displayName="CardContent",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},8245:function(e,s,t){"use strict";t.d(s,{X:function(){return d}});var r=t(7437),n=t(2265),a=t(9270),i=t(401),l=t(3448);let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(a.fC,{ref:s,className:(0,l.cn)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:(0,r.jsx)(a.z$,{className:(0,l.cn)("grid place-content-center text-current"),children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})})});d.displayName=a.fC.displayName},279:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var r=t(7437),n=t(2265),a=t(3448);let i=n.forwardRef((e,s)=>{let{className:t,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});i.displayName="Input"},5060:function(e,s,t){"use strict";t.d(s,{Label:function(){return c}});var r=t(7437),n=t(2265),a=t(370),i=t(535),l=t(3448);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(a.f,{ref:s,className:(0,l.cn)(d(),t),...n})});c.displayName=a.f.displayName},7168:function(e,s,t){"use strict";t.d(s,{Tabs:function(){return l},TabsContent:function(){return o},TabsList:function(){return d},TabsTrigger:function(){return c}});var r=t(7437),n=t(2265),a=t(271),i=t(3448);let l=a.fC,d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(a.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});d.displayName=a.aV.displayName;let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(a.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n})});c.displayName=a.xz.displayName;let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(a.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});o.displayName=a.VY.displayName},3448:function(e,s,t){"use strict";t.d(s,{cn:function(){return a}});var r=t(1994),n=t(3335);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,r.W)(s))}}}]);