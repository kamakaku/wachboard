(()=>{var e={};e.id=533,e.ids=[533],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},48710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),r(14770),r(88834),r(41611),r(35866),r(32029);var a=r(23191),s=r(88716),i=r(37922),n=r.n(i),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["(main)",{children:["app",{children:["vehicles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,14770)),"/Users/kamakaku/_desiqn/__wachboard/src/app/(main)/app/vehicles/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,88834)),"/Users/kamakaku/_desiqn/__wachboard/src/app/(main)/app/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,41611)),"/Users/kamakaku/_desiqn/__wachboard/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/Users/kamakaku/_desiqn/__wachboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kamakaku/_desiqn/__wachboard/src/app/(main)/app/vehicles/page.tsx"],u="/(main)/app/vehicles/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/app/vehicles/page",pathname:"/app/vehicles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},88731:(e,t,r)=>{let a={"14cf24d503760e7b8d8b82160e4ed7c9ebd6fc9f":()=>Promise.resolve().then(r.bind(r,28235)).then(e=>e.createVehicle),"5806a42d7c6ed6e22d062637a1d798ff79d2b20d":()=>Promise.resolve().then(r.bind(r,28235)).then(e=>e.updateVehicle),"8d9c12e74ffd9172945a6255b52aaa038c6aa862":()=>Promise.resolve().then(r.bind(r,28235)).then(e=>e.updateVehicleOrder),aecb262cd6ac8cdcd58d735e9a8db6c4a621a771:()=>Promise.resolve().then(r.bind(r,28235)).then(e=>e.deleteVehicle),"224786e73ae99791ee2081514241c01b03d7e1f2":()=>Promise.resolve().then(r.bind(r,83128)).then(e=>e.login),"2c667f50d9672450ffb9c7cc219224fdfd19874c":()=>Promise.resolve().then(r.bind(r,83128)).then(e=>e.logout),"7aa99930817149a187f1a871bbaf702dea9ea495":()=>Promise.resolve().then(r.bind(r,83128)).then(e=>e.signup)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"14cf24d503760e7b8d8b82160e4ed7c9ebd6fc9f":s.bind(null,"14cf24d503760e7b8d8b82160e4ed7c9ebd6fc9f"),"5806a42d7c6ed6e22d062637a1d798ff79d2b20d":s.bind(null,"5806a42d7c6ed6e22d062637a1d798ff79d2b20d"),"8d9c12e74ffd9172945a6255b52aaa038c6aa862":s.bind(null,"8d9c12e74ffd9172945a6255b52aaa038c6aa862"),aecb262cd6ac8cdcd58d735e9a8db6c4a621a771:s.bind(null,"aecb262cd6ac8cdcd58d735e9a8db6c4a621a771"),"224786e73ae99791ee2081514241c01b03d7e1f2":s.bind(null,"224786e73ae99791ee2081514241c01b03d7e1f2"),"2c667f50d9672450ffb9c7cc219224fdfd19874c":s.bind(null,"2c667f50d9672450ffb9c7cc219224fdfd19874c"),"7aa99930817149a187f1a871bbaf702dea9ea495":s.bind(null,"7aa99930817149a187f1a871bbaf702dea9ea495")}},33095:(e,t,r)=>{Promise.resolve().then(r.bind(r,12728)),Promise.resolve().then(r.bind(r,6295)),Promise.resolve().then(r.bind(r,24118)),Promise.resolve().then(r.bind(r,44794))},15919:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},12728:(e,t,r)=>{"use strict";r.d(t,{VehicleActionsMenu:()=>f});var a=r(10326),s=r(17577),i=r(91664),n=r(24118),l=r(10143),d=r(41190),o=r(44794),c=r(15919),u=r(6295);r(15424);var h=r(46242),p=(0,h.$)("5806a42d7c6ed6e22d062637a1d798ff79d2b20d");(0,h.$)("14cf24d503760e7b8d8b82160e4ed7c9ebd6fc9f");var m=(0,h.$)("aecb262cd6ac8cdcd58d735e9a8db6c4a621a771");function f({vehicle:e}){let[t,r]=(0,s.useState)(!1);return(0,a.jsxs)(n.Dialog,{open:t,onOpenChange:r,children:[(0,a.jsxs)(l.DropdownMenu,{children:[a.jsx(l.DropdownMenuTrigger,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(c.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(l.DropdownMenuContent,{align:"end",children:[a.jsx(n.DialogTrigger,{asChild:!0,children:a.jsx(l.DropdownMenuItem,{onSelect:e=>e.preventDefault(),children:"Bearbeiten"})}),a.jsx(l.DropdownMenuItem,{className:"text-destructive",onSelect:t=>{t.preventDefault();let r=document.getElementById(`delete-vehicle-${e.id}`);r?.requestSubmit()},children:"L\xf6schen"})]})]}),(0,a.jsxs)(n.DialogContent,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(n.DialogHeader,{children:[a.jsx(n.DialogTitle,{children:"Fahrzeug bearbeiten"}),a.jsx(n.DialogDescription,{children:"Schl\xfcssel, Titel und Konfiguration anpassen."})]}),(0,a.jsxs)("form",{action:p,className:"space-y-4",children:[a.jsx("input",{type:"hidden",name:"vehicleId",value:e.id}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o.Label,{htmlFor:`edit-key-${e.id}`,children:"Schl\xfcssel *"}),a.jsx(d.I,{id:`edit-key-${e.id}`,name:"key",defaultValue:e.key,required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o.Label,{htmlFor:`edit-title-${e.id}`,children:"Titel *"}),a.jsx(d.I,{id:`edit-title-${e.id}`,name:"title",defaultValue:e.title,required:!0})]})]}),a.jsx(u.VehicleConfigBuilder,{fieldName:"config",initialConfig:e.config}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o.Label,{htmlFor:`edit-image-url-${e.id}`,children:"Bild-URL (optional)"}),a.jsx(d.I,{id:`edit-image-url-${e.id}`,name:"image_url",type:"url",placeholder:"https://...",defaultValue:e.image_url??""}),a.jsx(i.z,{variant:"outline",type:"button",asChild:!0,children:(0,a.jsxs)("label",{children:["Bild hochladen",a.jsx("input",{type:"file",name:"image_file",accept:"image/*",className:"hidden"})]})})]}),a.jsx(n.DialogFooter,{children:a.jsx(i.z,{type:"submit",children:"Speichern"})})]})]}),a.jsx("form",{id:`delete-vehicle-${e.id}`,action:m,className:"hidden",children:a.jsx("input",{type:"hidden",name:"vehicleId",value:e.id})})]})}(0,h.$)("8d9c12e74ffd9172945a6255b52aaa038c6aa862")},6295:(e,t,r)=>{"use strict";r.d(t,{VehicleConfigBuilder:()=>h});var a=r(10326),s=r(17577),i=r(91664),n=r(41190),l=r(44794),d=r(50384),o=r(9280),c=r(70975);let u=()=>Math.random().toString(36).slice(2,9);function h({fieldName:e,initialConfig:t}){let r=t?.trupps??[],h=t?.slots??[],[p,m]=(0,s.useState)(r.map(e=>(function(e){let t=(0,c.Qo)(e),r=t.slots.map(e=>e.key).join(", ");return{id:u(),key:t.key,slotsInput:r,allowsPraktikant:t.allowsPraktikant??!1}})(e))),[f,g]=(0,s.useState)(h.map(e=>"string"==typeof e?e:e.key)),[x,b]=(0,s.useState)(""),[v,j]=(0,s.useState)(""),[y,k]=(0,s.useState)(!1),[N,w]=(0,s.useState)(""),[_,z]=(0,s.useState)(null),[P,C]=(0,s.useState)(""),[S,F]=(0,s.useState)(""),[D,I]=(0,s.useState)(!1),[T,q]=(0,s.useState)(null),[V,R]=(0,s.useState)(""),[E,U]=(0,s.useState)(t?.allowsPraktikant??!1),[B,M]=(0,s.useState)(t?.hasNotarztPool??!1),[$,L]=(0,s.useState)(t?.hasFuehrungsdienstPool??!1),A=(0,s.useMemo)(()=>{let e=p.map(e=>{let t=e.slotsInput.split(",").map(e=>e.trim()).filter(e=>e.length>0);return{key:e.key.trim(),slots:t,...e.allowsPraktikant?{allowsPraktikant:!0}:{}}}).filter(e=>e.slots.length>0),t={};return e.length>0&&(t.trupps=e),f.length>0&&(t.slots=f),E&&(t.allowsPraktikant=!0),B&&(t.hasNotarztPool=!0),$&&(t.hasFuehrungsdienstPool=!0),JSON.stringify(t,null,2)},[p,f,E,B,$]),O=e=>m(t=>t.filter(t=>t.id!==e)),K=e=>{z(e.id),C(e.key),F(e.slotsInput),I(e.allowsPraktikant??!1)},Z=()=>{z(null),C(""),F(""),I(!1)},H=()=>{P.trim()&&_&&(m(e=>e.map(e=>e.id===_?{...e,key:P.trim(),slotsInput:S.trim(),allowsPraktikant:D}:e)),Z())},X=e=>g(t=>t.filter((t,r)=>r!==e)),Y=e=>{q(e),R(f[e])},W=()=>{q(null),R("")};return(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("input",{type:"hidden",name:e,value:A}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded border bg-muted/10",children:[a.jsx(o.X,{id:"global-praktikant",checked:E,onCheckedChange:e=>U(!0===e)}),a.jsx(l.Label,{htmlFor:"global-praktikant",className:"text-sm font-normal cursor-pointer",children:"Praktikant kann auf diesem Fahrzeug hinzugef\xfcgt werden (global)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded border bg-muted/10",children:[a.jsx(o.X,{id:"has-notarzt-pool",checked:B,onCheckedChange:e=>M(!0===e)}),a.jsx(l.Label,{htmlFor:"has-notarzt-pool",className:"text-sm font-normal cursor-pointer",children:"Dieses Fahrzeug hat einen separaten Notarzt-Pool"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded border bg-muted/10",children:[a.jsx(o.X,{id:"has-fuehrungsdienst-pool",checked:$,onCheckedChange:e=>L(!0===e)}),a.jsx(l.Label,{htmlFor:"has-fuehrungsdienst-pool",className:"text-sm font-normal cursor-pointer",children:"Dieses Fahrzeug hat einen separaten F\xfchrungsdienst-Pool"})]})]}),(0,a.jsxs)(d.Tabs,{defaultValue:"trupps",className:"w-full",children:[(0,a.jsxs)(d.TabsList,{className:"grid w-full grid-cols-2",children:[a.jsx(d.TabsTrigger,{value:"trupps",children:"Trupps"}),a.jsx(d.TabsTrigger,{value:"slots",children:"Einzelne Slots"})]}),(0,a.jsxs)(d.TabsContent,{value:"trupps",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold mb-1",children:"Trupps"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Erstellen Sie Trupps mit ihren Positionen"})]}),(0,a.jsxs)("div",{className:"grid gap-3 p-4 rounded border bg-muted/10",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l.Label,{htmlFor:"new-trupp-key",children:"Trupp-Name *"}),a.jsx(n.I,{id:"new-trupp-key",placeholder:"z.B. Trupp 1",value:x,onChange:e=>b(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l.Label,{htmlFor:"new-trupp-slots",children:"Positionen (kommagetrennt) *"}),a.jsx(n.I,{id:"new-trupp-slots",placeholder:"z.B. Truppf\xfchrer, Maschinist, Angriffstrupp",value:v,onChange:e=>j(e.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Geben Sie die Positionen kommagetrennt ein"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.X,{id:"new-trupp-praktikant",checked:y,onCheckedChange:e=>k(!0===e)}),a.jsx(l.Label,{htmlFor:"new-trupp-praktikant",className:"text-sm font-normal cursor-pointer",children:"Praktikant kann hinzugef\xfcgt werden"})]}),a.jsx(i.z,{type:"button",onClick:()=>{x.trim()&&(m(e=>[...e,{id:u(),key:x.trim(),slotsInput:v.trim(),allowsPraktikant:y}]),b(""),j(""),k(!1))},className:"w-full",children:"Trupp hinzuf\xfcgen"})]}),p.length>0?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Hinzugef\xfcgte Trupps:"}),p.map(e=>{let t=e.slotsInput.split(",").map(e=>e.trim()).filter(e=>e.length>0).length;return _===e.id?(0,a.jsxs)("div",{className:"rounded border border-primary p-3 space-y-3 bg-muted/20",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l.Label,{children:"Trupp-Name *"}),a.jsx(n.I,{placeholder:"z.B. Trupp 1",value:P,onChange:e=>C(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l.Label,{children:"Positionen (kommagetrennt) *"}),a.jsx(n.I,{placeholder:"z.B. Truppf\xfchrer, Maschinist, Angriffstrupp",value:S,onChange:e=>F(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.X,{id:`edit-trupp-praktikant-${e.id}`,checked:D,onCheckedChange:e=>I(!0===e)}),a.jsx(l.Label,{htmlFor:`edit-trupp-praktikant-${e.id}`,className:"text-sm font-normal cursor-pointer",children:"Praktikant kann hinzugef\xfcgt werden"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(i.z,{type:"button",size:"sm",onClick:H,children:"Speichern"}),a.jsx(i.z,{type:"button",size:"sm",variant:"outline",onClick:Z,children:"Abbrechen"})]})]},e.id):a.jsx("div",{className:"rounded border border-muted p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e.key}),e.allowsPraktikant&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"+Praktikant"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t," Position",1!==t?"en":"",":"," ",e.slotsInput||"(keine)"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(i.z,{variant:"ghost",size:"sm",type:"button",onClick:()=>K(e),children:"Bearbeiten"}),a.jsx(i.z,{variant:"ghost",size:"sm",type:"button",onClick:()=>O(e.id),className:"text-destructive",children:"Entfernen"})]})]})},e.id)})]}):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Noch keine Trupps hinzugef\xfcgt"})]}),(0,a.jsxs)(d.TabsContent,{value:"slots",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold mb-1",children:"Einzelne Slots"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Positionen ohne Trupp-Zuordnung (z.B. einzelne Fahrer)"})]}),(0,a.jsxs)("div",{className:"grid gap-3 p-4 rounded border bg-muted/10",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l.Label,{htmlFor:"new-slots",children:"Positionen (kommagetrennt) *"}),a.jsx(n.I,{id:"new-slots",placeholder:"z.B. Fahrer, Beifahrer",value:N,onChange:e=>w(e.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Geben Sie die Positionen kommagetrennt ein"})]}),a.jsx(i.z,{type:"button",onClick:()=>{if(!N.trim())return;let e=N.split(",").map(e=>e.trim()).filter(e=>e.length>0);g(t=>[...t,...e]),w("")},className:"w-full",children:"Slots hinzuf\xfcgen"})]}),f.length>0?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Hinzugef\xfcgte Slots:"}),null!==T?(0,a.jsxs)("div",{className:"p-3 rounded border border-primary bg-muted/20 space-y-3",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l.Label,{children:"Position bearbeiten *"}),a.jsx(n.I,{placeholder:"z.B. Fahrer",value:V,onChange:e=>R(e.target.value),autoFocus:!0})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(i.z,{type:"button",size:"sm",onClick:()=>{V.trim()&&null!==T&&(g(e=>e.map((e,t)=>t===T?V.trim():e)),W())},children:"Speichern"}),a.jsx(i.z,{type:"button",size:"sm",variant:"outline",onClick:W,children:"Abbrechen"})]})]}):null,a.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((e,t)=>(0,a.jsxs)("div",{className:`inline-flex items-center gap-2 rounded border px-3 py-2 ${T===t?"opacity-50":"border-muted"}`,children:[a.jsx("span",{className:"text-sm",children:e}),null===T&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.z,{variant:"ghost",size:"sm",type:"button",onClick:()=>Y(t),className:"h-auto p-0 hover:bg-transparent",children:"✏️"}),a.jsx(i.z,{variant:"ghost",size:"sm",type:"button",onClick:()=>X(t),className:"h-auto p-0 text-destructive hover:bg-transparent",children:"✕"})]})]},`${e}-${t}`))})]}):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Noch keine Slots hinzugef\xfcgt"})]})]})]})}},9280:(e,t,r)=>{"use strict";r.d(t,{X:()=>d});var a=r(10326),s=r(17577),i=r(13635),n=r(32933),l=r(51223);let d=s.forwardRef(({className:e,...t},r)=>a.jsx(i.fC,{ref:r,className:(0,l.cn)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(i.z$,{className:(0,l.cn)("grid place-content-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4"})})}));d.displayName=i.fC.displayName},24118:(e,t,r)=>{"use strict";r.d(t,{Dialog:()=>d,DialogContent:()=>h,DialogDescription:()=>g,DialogFooter:()=>m,DialogHeader:()=>p,DialogTitle:()=>f,DialogTrigger:()=>o});var a=r(10326),s=r(17577),i=r(37956),n=r(94019),l=r(51223);let d=i.fC,o=i.xz,c=i.h_;i.x8;let u=s.forwardRef(({className:e,...t},r)=>a.jsx(i.aV,{ref:r,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=i.aV.displayName;let h=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(c,{children:[a.jsx(u,{}),(0,a.jsxs)(i.VY,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg max-h-[90vh] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg overflow-hidden",e),...r,children:[a.jsx("div",{className:"flex flex-col gap-4 overflow-y-auto pr-1 max-h-[80vh]",children:t}),(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=i.VY.displayName;let p=({className:e,...t})=>a.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let m=({className:e,...t})=>a.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let f=s.forwardRef(({className:e,...t},r)=>a.jsx(i.Dx,{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=i.Dx.displayName;let g=s.forwardRef(({className:e,...t},r)=>a.jsx(i.dk,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=i.dk.displayName},41190:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var a=r(10326),s=r(17577),i=r(51223);let n=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Input"},44794:(e,t,r)=>{"use strict";r.d(t,{Label:()=>o});var a=r(10326),s=r(17577),i=r(29152),n=r(79360),l=r(51223);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...t},r)=>a.jsx(i.f,{ref:r,className:(0,l.cn)(d(),e),...t}));o.displayName=i.f.displayName},50384:(e,t,r)=>{"use strict";r.d(t,{Tabs:()=>l,TabsContent:()=>c,TabsList:()=>d,TabsTrigger:()=>o});var a=r(10326),s=r(17577),i=r(28407),n=r(51223);let l=i.fC,d=s.forwardRef(({className:e,...t},r)=>a.jsx(i.aV,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));d.displayName=i.aV.displayName;let o=s.forwardRef(({className:e,...t},r)=>a.jsx(i.xz,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o.displayName=i.xz.displayName;let c=s.forwardRef(({className:e,...t},r)=>a.jsx(i.VY,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=i.VY.displayName},70975:(e,t,r)=>{"use strict";function a(e){return"string"==typeof e?{key:e,label:e}:{key:e.key,label:e.label??e.key,description:e.description}}function s(e){return{...e,slots:e.slots.map(a)}}r.d(t,{CJ:()=>a,Qo:()=>s})},14770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(19510),s=r(27039),i=r(93804),n=r(75782),l=r(49922),d=r(40278),o=r(65655),c=r(58585),u=r(28235),h=r(86426),p=r(59558),m=r(68570);let f=(0,m.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/admin/vehicle-config-builder.tsx#VehicleConfigBuilder`),g=(0,m.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/admin/vehicle-actions-menu.tsx#VehicleActionsMenu`);async function x({searchParams:e}){let t=(0,o.e)(),{data:{user:r}}=await t.auth.getUser();r||(0,c.redirect)("/login");let{data:m}=await t.from("memberships").select("station_id, role").eq("user_id",r.id).single();if(!m||"ADMIN"!==m.role)return a.jsx("div",{className:"py-8 px-6",children:(0,a.jsxs)(i.Zb,{className:"border-destructive",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Zugriff verweigert"})}),a.jsx(i.aY,{children:a.jsx("p",{children:"Sie ben\xf6tigen Administrator-Rechte."})})]})});let{data:x}=await t.from("vehicle_configs").select("*").eq("station_id",m.station_id).order("order",{ascending:!0});return(0,a.jsxs)("div",{className:"py-8 px-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Fahrzeuge"}),a.jsx("p",{className:"text-muted-foreground",children:"Verwalten Sie Ihre Fahrzeugkonfigurationen"})]}),(0,a.jsxs)(h.Vq,{children:[a.jsx(h.hg,{asChild:!0,children:a.jsx(s.z,{children:"Neues Fahrzeug erstellen"})}),(0,a.jsxs)(h.cZ,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(h.fK,{children:[a.jsx(h.$N,{children:"Neues Fahrzeug erstellen"}),a.jsx(h.Be,{children:"Erstellen Sie eine neue Fahrzeugkonfiguration mit Positionen"})]}),(0,a.jsxs)("form",{action:u.createVehicle,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"key",children:"Schl\xfcssel * (eindeutig, z.B. RTW X(22/6))"}),a.jsx(l.I,{id:"key",name:"key",placeholder:"z.B. RTW X(22/6)",required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"title",children:"Titel *"}),a.jsx(l.I,{id:"title",name:"title",placeholder:"z.B. LHF 20",required:!0})]})]}),a.jsx(f,{fieldName:"config"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"image_url",children:"Bild-URL (optional)"}),a.jsx(l.I,{id:"image_url",name:"image_url",placeholder:"https://... oder w\xe4hle Datei",type:"url"}),a.jsx(s.z,{variant:"outline",type:"button",asChild:!0,children:(0,a.jsxs)("label",{children:["Bild hochladen",a.jsx("input",{type:"file",name:"image_file",accept:"image/*",className:"hidden"})]})})]}),a.jsx(h.cN,{children:a.jsx(s.z,{type:"submit",children:"Fahrzeug erstellen"})})]})]})]})]}),e.error&&a.jsx(i.Zb,{className:"mb-6 border-destructive",children:a.jsx(i.aY,{className:"pt-6",children:a.jsx("p",{className:"text-destructive",children:e.error})})}),e.success&&a.jsx(i.Zb,{className:"mb-6 border-green-500",children:a.jsx(i.aY,{className:"pt-6",children:a.jsx("p",{className:"text-green-600",children:e.success})})}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Fahrzeug-\xdcbersicht"}),(0,a.jsxs)(i.SZ,{children:["Alle konfigurierten Fahrzeuge (",x?.length||0,")"]})]}),a.jsx(i.aY,{children:x&&x.length>0?(0,a.jsxs)(n.iA,{children:[a.jsx(n.xD,{children:(0,a.jsxs)(n.SC,{children:[a.jsx(n.ss,{children:"Reihenfolge"}),a.jsx(n.ss,{children:"Bild"}),a.jsx(n.ss,{children:"Schl\xfcssel"}),a.jsx(n.ss,{children:"Titel"}),a.jsx(n.ss,{children:"Positionen"}),a.jsx(n.ss,{children:"Aktionen"})]})}),a.jsx(n.RM,{children:x.map((e,t)=>{let r=e.config,i=r.slots?r.slots.length:r.trupps?r.trupps.reduce((e,t)=>e+(t.slots?.length||0),0):0;return(0,a.jsxs)(n.SC,{children:[a.jsx(n.pj,{children:(0,a.jsxs)("div",{className:"flex gap-1",children:[t>0&&(0,a.jsxs)("form",{action:u.updateVehicleOrder,children:[a.jsx("input",{type:"hidden",name:"vehicleId",value:e.id}),a.jsx("input",{type:"hidden",name:"direction",value:"up"}),a.jsx(s.z,{type:"submit",variant:"outline",size:"sm",children:"↑"})]}),t<x.length-1&&(0,a.jsxs)("form",{action:u.updateVehicleOrder,children:[a.jsx("input",{type:"hidden",name:"vehicleId",value:e.id}),a.jsx("input",{type:"hidden",name:"direction",value:"down"}),a.jsx(s.z,{type:"submit",variant:"outline",size:"sm",children:"↓"})]})]})}),a.jsx(n.pj,{children:e.image_url?a.jsx("img",{src:e.image_url,alt:e.title,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center text-muted-foreground text-xs",children:"Kein Bild"})}),a.jsx(n.pj,{children:a.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:e.key})}),a.jsx(n.pj,{className:"font-medium",children:e.title}),a.jsx(n.pj,{children:(0,a.jsxs)(p.C,{variant:"secondary",children:[i," Positionen"]})}),a.jsx(n.pj,{children:a.jsx(g,{vehicle:e})})]},e.id)})})]}):a.jsx("p",{className:"text-muted-foreground",children:"Keine Fahrzeuge konfiguriert. Erstellen Sie das erste Fahrzeug."})})]})]})}},59558:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var a=r(19510);r(71159);var s=r(46145),i=r(40644);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return a.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...r})}},86426:(e,t,r)=>{"use strict";r.d(t,{$N:()=>o,Be:()=>c,Vq:()=>s,cN:()=>d,cZ:()=>n,fK:()=>l,hg:()=>i});var a=r(68570);let s=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#Dialog`);(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogPortal`),(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogOverlay`),(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogClose`);let i=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogTrigger`),n=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogContent`),l=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogHeader`),d=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogFooter`),o=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogTitle`),c=(0,a.createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/dialog.tsx#DialogDescription`)},49922:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var a=r(19510),s=r(71159),i=r(40644);let n=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Input"},40278:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/kamakaku/_desiqn/__wachboard/src/components/ui/label.tsx#Label`)},75782:(e,t,r)=>{"use strict";r.d(t,{RM:()=>d,SC:()=>o,iA:()=>n,pj:()=>u,ss:()=>c,xD:()=>l});var a=r(19510),s=r(71159),i=r(40644);let n=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let l=s.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:(0,i.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));d.displayName="TableBody",s.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));o.displayName="TableRow";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=s.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},28235:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createVehicle:()=>h,deleteVehicle:()=>p,updateVehicle:()=>f,updateVehicleOrder:()=>m});var a=r(24330);r(60166);var s=r(65655),i=r(57708),n=r(58585),l=r(37857);let d=function(){let e="https://ghjfyjximndlrstwridq.supabase.co",t=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!t)throw Error("Supabase URL or service role key missing");return(0,l.eI)(e,t)}();async function o(e,t,r){let{error:a}=await d.storage.from(e).upload(t,r,{cacheControl:"3600",upsert:!0});if(a)throw a;let{data:s}=d.storage.from(e).getPublicUrl(t);return s.publicUrl}async function c(e,t){let r=function(e,t){let r=e?.lastIndexOf(".")??-1;if(r>0)return e.slice(r+1);let[,a]=t.split("/");return a||"bin"}(e.name,e.type);return o("vehicle-photos",`vehicles/${t}/${crypto.randomUUID()}.${r}`,e)}async function u(e,t,r){if(!e||0===e.size)return null;try{return await c(e,t)}catch(e){return console.error("Error uploading vehicle photo:",e),null}}async function h(e){let t;let r=(0,s.e)(),{data:{user:a}}=await r.auth.getUser();if(!a)throw Error("User not authenticated.");let l=e.get("key"),d=e.get("title"),o=e.get("config"),c=e.get("image_url")?.trim()??"",h=e.get("image_file");if(console.log("[createVehicle] Received data:",{key:l,title:d,configStringLength:o?.length}),!l||!d||!o)return(0,n.redirect)("/app/vehicles?error=Alle Felder sind erforderlich.");try{t=JSON.parse(o),console.log("[createVehicle] Parsed config:",t)}catch(e){return console.error("[createVehicle] JSON parse error:",e),(0,n.redirect)("/app/vehicles?error=Ung\xfcltiges JSON-Format.")}let{data:p}=await r.from("memberships").select("station_id, role").eq("user_id",a.id).single();if(!p||"ADMIN"!==p.role)return(0,n.redirect)("/app/vehicles?error=Keine Berechtigung.");let{data:m}=await r.from("vehicle_configs").select("order").eq("station_id",p.station_id).order("order",{ascending:!1}).limit(1).single(),f=m?m.order+1:0,g=await u(h,p.station_id,"/app/vehicles")??c??null;console.log("[createVehicle] Inserting vehicle with data:",{station_id:p.station_id,key:l.trim(),title:d.trim(),order:f,config:t,image_url:g});let{error:x}=await r.from("vehicle_configs").insert({station_id:p.station_id,key:l.trim(),title:d.trim(),order:f,config:t,image_url:g});if(x)return(console.error("[createVehicle] Database error:",x),"23505"===x.code)?(0,n.redirect)("/app/vehicles?error=Ein Fahrzeug mit diesem Schl\xfcssel existiert bereits."):(0,n.redirect)(`/app/vehicles?error=${encodeURIComponent(`Fehler beim Erstellen des Fahrzeugs: ${x.message}`)}`);(0,i.revalidatePath)("/app/vehicles"),(0,n.redirect)("/app/vehicles?success=Fahrzeug erfolgreich erstellt.")}async function p(e){let t=(0,s.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("User not authenticated.");let a=e.get("vehicleId");if(!a)return(0,n.redirect)("/app/vehicles?error=Fahrzeug nicht gefunden.");let{data:l}=await t.from("memberships").select("station_id, role").eq("user_id",r.id).single();if(!l||"ADMIN"!==l.role)return(0,n.redirect)("/app/vehicles?error=Keine Berechtigung.");let{data:d}=await t.from("vehicle_configs").select("station_id").eq("id",a).single();if(!d||d.station_id!==l.station_id)return(0,n.redirect)("/app/vehicles?error=Fahrzeug nicht gefunden.");let{error:o}=await t.from("vehicle_configs").delete().eq("id",a);if(o)return console.error("Error deleting vehicle:",o),(0,n.redirect)(`/app/vehicles?error=${encodeURIComponent("Fehler beim L\xf6schen des Fahrzeugs.")}`);(0,i.revalidatePath)("/app/vehicles"),(0,n.redirect)("/app/vehicles?success=Fahrzeug erfolgreich gel\xf6scht.")}async function m(e){let t=(0,s.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("User not authenticated.");let a=e.get("vehicleId"),l=e.get("direction");if(!a||!l)return(0,n.redirect)("/app/vehicles?error=Fehlende Parameter.");let{data:d}=await t.from("memberships").select("station_id, role").eq("user_id",r.id).single();if(!d||"ADMIN"!==d.role)return(0,n.redirect)("/app/vehicles?error=Keine Berechtigung.");let{data:o}=await t.from("vehicle_configs").select("*").eq("id",a).eq("station_id",d.station_id).single();if(!o)return(0,n.redirect)("/app/vehicles?error=Fahrzeug nicht gefunden.");let{data:c}=await t.from("vehicle_configs").select("*").eq("station_id",d.station_id).order("order",{ascending:!0});if(!c)return(0,n.redirect)("/app/vehicles?error=Fehler beim Laden der Fahrzeuge.");let u=c.findIndex(e=>e.id===a),h="up"===l?u-1:u+1;if(h<0||h>=c.length)return(0,n.redirect)("/app/vehicles");let p=c[u].order;c[u].order=c[h].order,c[h].order=p,await t.from("vehicle_configs").update({order:c[u].order}).eq("id",c[u].id),await t.from("vehicle_configs").update({order:c[h].order}).eq("id",c[h].id),(0,i.revalidatePath)("/app/vehicles"),(0,n.redirect)("/app/vehicles")}async function f(e){let t;let r=(0,s.e)(),{data:{user:a}}=await r.auth.getUser();if(!a)throw Error("User not authenticated.");let l=e.get("vehicleId"),d=e.get("key")?.trim(),o=e.get("title")?.trim(),c=e.get("config"),h=e.get("image_url")?.trim()??"",p=e.get("image_file");if(!l||!d||!o||!c)return(0,n.redirect)("/app/vehicles?error=Alle Felder sind erforderlich.");try{t=JSON.parse(c)}catch(e){return(0,n.redirect)("/app/vehicles?error=Ung\xfcltiges JSON-Format.")}let{data:m}=await r.from("memberships").select("station_id, role").eq("user_id",a.id).single();if(!m||"ADMIN"!==m.role)return(0,n.redirect)("/app/vehicles?error=Keine Berechtigung.");let{data:f}=await r.from("vehicle_configs").select("station_id").eq("id",l).single();if(!f||f.station_id!==m.station_id)return(0,n.redirect)("/app/vehicles?error=Fahrzeug nicht gefunden.");let{data:g}=await r.from("vehicle_configs").select("id").eq("station_id",m.station_id).eq("key",d).neq("id",l).limit(1).single();if(g)return(0,n.redirect)("/app/vehicles?error=Ein Fahrzeug mit diesem Schl\xfcssel existiert bereits.");let x=await u(p,m.station_id,"/app/vehicles")??h??null,{error:b}=await r.from("vehicle_configs").update({key:d,title:o,config:t,image_url:x}).eq("id",l);if(b)return(console.error("Error updating vehicle:",b),"23505"===b.code)?(0,n.redirect)("/app/vehicles?error=Ein Fahrzeug mit diesem Schl\xfcssel existiert bereits."):(0,n.redirect)(`/app/vehicles?error=${encodeURIComponent("Fehler beim Aktualisieren des Fahrzeugs.")}`);(0,i.revalidatePath)("/app/vehicles"),(0,n.redirect)("/app/vehicles?success=Fahrzeug erfolgreich aktualisiert.")}(0,r(40618).h)([h,p,m,f]),(0,a.j)("14cf24d503760e7b8d8b82160e4ed7c9ebd6fc9f",h),(0,a.j)("aecb262cd6ac8cdcd58d735e9a8db6c4a621a771",p),(0,a.j)("8d9c12e74ffd9172945a6255b52aaa038c6aa862",m),(0,a.j)("5806a42d7c6ed6e22d062637a1d798ff79d2b20d",f)},13635:(e,t,r)=>{"use strict";r.d(t,{fC:()=>y,z$:()=>N});var a=r(17577),s=r(48051),i=r(93095),n=r(82561),l=r(52067),d=r(53405),o=r(2566),c=r(9815),u=r(77335),h=r(10326),p="Checkbox",[m,f]=(0,i.b)(p),[g,x]=m(p);function b(e){let{__scopeCheckbox:t,checked:r,children:s,defaultChecked:i,disabled:n,form:d,name:o,onCheckedChange:c,required:u,value:m="on",internal_do_not_use_render:f}=e,[x,b]=(0,l.T)({prop:r,defaultProp:i??!1,onChange:c,caller:p}),[v,j]=a.useState(null),[y,k]=a.useState(null),N=a.useRef(!1),w=!v||!!d||!!v.closest("form"),_={checked:x,disabled:n,setChecked:b,control:v,setControl:j,name:o,form:d,value:m,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:!z(i)&&i,isFormControl:w,bubbleInput:y,setBubbleInput:k};return(0,h.jsx)(g,{scope:t,..._,children:"function"==typeof f?f(_):s})}var v="CheckboxTrigger",j=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...i},l)=>{let{control:d,value:o,disabled:c,checked:p,required:m,setControl:f,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:j,bubbleInput:y}=x(v,e),k=(0,s.e)(l,f),N=a.useRef(p);return a.useEffect(()=>{let e=d?.form;if(e){let t=()=>g(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,h.jsx)(u.WV.button,{type:"button",role:"checkbox","aria-checked":z(p)?"mixed":p,"aria-required":m,"data-state":P(p),"data-disabled":c?"":void 0,disabled:c,value:o,...i,ref:k,onKeyDown:(0,n.Mj)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.Mj)(r,e=>{g(e=>!!z(e)||!e),y&&j&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});j.displayName=v;var y=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:n,disabled:l,value:d,onCheckedChange:o,form:c,...u}=e;return(0,h.jsx)(b,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:n,onCheckedChange:o,name:a,form:c,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j,{...u,ref:t,__scopeCheckbox:r}),e&&(0,h.jsx)(_,{__scopeCheckbox:r})]})})});y.displayName=p;var k="CheckboxIndicator",N=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...s}=e,i=x(k,r);return(0,h.jsx)(c.z,{present:a||z(i.checked)||!0===i.checked,children:(0,h.jsx)(u.WV.span,{"data-state":P(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});N.displayName=k;var w="CheckboxBubbleInput",_=a.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:i,hasConsumerStoppedPropagationRef:n,checked:l,defaultChecked:c,required:p,disabled:m,name:f,value:g,form:b,bubbleInput:v,setBubbleInput:j}=x(w,e),y=(0,s.e)(r,j),k=(0,d.D)(l),N=(0,o.t)(i);a.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!n.current;if(k!==l&&e){let r=new Event("click",{bubbles:t});v.indeterminate=z(l),e.call(v,!z(l)&&l),v.dispatchEvent(r)}},[v,k,l,n]);let _=a.useRef(!z(l)&&l);return(0,h.jsx)(u.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??_.current,required:p,disabled:m,name:f,value:g,form:b,...t,tabIndex:-1,ref:y,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function z(e){return"indeterminate"===e}function P(e){return z(e)?"indeterminate":e?"checked":"unchecked"}_.displayName=w},28407:(e,t,r)=>{"use strict";r.d(t,{VY:()=>D,aV:()=>S,fC:()=>C,xz:()=>F});var a=r(17577),s=r(82561),i=r(93095),n=r(15594),l=r(9815),d=r(77335),o=r(17124),c=r(52067),u=r(88957),h=r(10326),p="Tabs",[m,f]=(0,i.b)(p,[n.Pc]),g=(0,n.Pc)(),[x,b]=m(p),v=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:n="horizontal",dir:l,activationMode:m="automatic",...f}=e,g=(0,o.gm)(l),[b,v]=(0,c.T)({prop:a,onChange:s,defaultProp:i??"",caller:p});return(0,h.jsx)(x,{scope:r,baseId:(0,u.M)(),value:b,onValueChange:v,orientation:n,dir:g,activationMode:m,children:(0,h.jsx)(d.WV.div,{dir:g,"data-orientation":n,...f,ref:t})})});v.displayName=p;var j="TabsList",y=a.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...s}=e,i=b(j,r),l=g(r);return(0,h.jsx)(n.fC,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:(0,h.jsx)(d.WV.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});y.displayName=j;var k="TabsTrigger",N=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:i=!1,...l}=e,o=b(k,r),c=g(r),u=z(o.baseId,a),p=P(o.baseId,a),m=a===o.value;return(0,h.jsx)(n.ck,{asChild:!0,...c,focusable:!i,active:m,children:(0,h.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...l,ref:t,onMouseDown:(0,s.Mj)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,s.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,s.Mj)(e.onFocus,()=>{let e="manual"!==o.activationMode;m||i||!e||o.onValueChange(a)})})})});N.displayName=k;var w="TabsContent",_=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,forceMount:i,children:n,...o}=e,c=b(w,r),u=z(c.baseId,s),p=P(c.baseId,s),m=s===c.value,f=a.useRef(m);return a.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,h.jsx)(l.z,{present:i||m,children:({present:r})=>(0,h.jsx)(d.WV.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:p,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&n})})});function z(e,t){return`${e}-trigger-${t}`}function P(e,t){return`${e}-content-${t}`}_.displayName=w;var C=v,S=y,F=N,D=_},53405:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var a=r(17577);function s(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,374,702,582,559,369,4,52,863],()=>r(48710));module.exports=a})();